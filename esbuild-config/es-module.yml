format: 'esm'
outputFileExtension: '.mjs'
bundle: true
minify: ${strToBool(${env:MINIFY, 'true'})}
sourcemap: ${strToBool(${env:SOURCEMAP, 'false'})}
exclude: ['@aws-sdk']
# This is a temporary solution for an issue from esbuild
# Ref: https://github.com/evanw/esbuild/pull/2067
# More info: https://bajtos.net/posts/2022-05-bundling-nodejs-for-aws-lambda/
banner:
  js: import { createRequire } from 'module'; const require = createRequire(import.meta.url);
